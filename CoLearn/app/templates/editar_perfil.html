{% extends 'base.html' %}

{% block content %}
<div class="page-container">
  <div class="card-form">
    <h4>Editar perfil</h4>
    <form method="POST">
      <div class="input-group">
        <input name="username" value="{{ current_user.username }}" placeholder="Nome de usuário" required>
        <select name="nivel">
          <option value="">Nível (opcional)</option>
          <option value="iniciante" {% if current_user.nivel=='iniciante' %}selected{% endif %}>Iniciante</option>
          <option value="intermediario" {% if current_user.nivel=='intermediario' %}selected{% endif %}>Intermediário</option>
          <option value="avancado" {% if current_user.nivel=='avancado' %}selected{% endif %}>Avançado</option>
        </select>
      </div>

      <label class="label-dificuldade">Dificuldades</label>
      <div class="dificuldades-group">
        {% for d in opcoes %}
        <label class="dificuldade-item">
          <input type="checkbox" name="dificuldades" value="{{ d }}" 
                 {% if d in current_user.dificuldades_lista() %}checked{% endif %}>
          <span>{{ d }}</span>
        </label>
        {% endfor %}
      </div>
      <input class="extra-input" name="custom_dificuldade" placeholder="Adicionar nova dificuldade">

      <label class="label-dificuldade">Bio (opcional)</label>
      <textarea class="extra-input" name="bio" rows="3">{{ current_user.bio or '' }}</textarea>

      <button type="submit">Salvar</button>
    </form>
  </div>
</div>
{% endblock %}
